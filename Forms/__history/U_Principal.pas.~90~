unit U_Principal;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, Vcl.Buttons, Vcl.ComCtrls,
  Vcl.Menus;

type
  TPrincipalF = class(TForm)
    Panel1: TPanel;
    btnUsuario: TSpeedButton;
    btnEmpresa: TSpeedButton;
    btnClientes: TSpeedButton;
    btnFechar: TSpeedButton;
    StatusBar1: TStatusBar;
    Timer1: TTimer;
    MainMenu1: TMainMenu;
    Cadastro1: TMenuItem;
    mmUsuario: TMenuItem;
    mmPessoa: TMenuItem;
    mmTipoPessoa: TMenuItem;
    Movimentos1: TMenuItem;
    Compras1: TMenuItem;
    Vendas1: TMenuItem;
    Relatrios1: TMenuItem;
    ListaUsurios1: TMenuItem;
    ListadeFornecedores1: TMenuItem;
    ListadeClientes1: TMenuItem;
    ListadeProdutos1: TMenuItem;
    ListadeCompras1: TMenuItem;
    ListadeVendas1: TMenuItem;
    SobreoSistema1: TMenuItem;
    Sair1: TMenuItem;
    mmFechar: TMenuItem;
    ListadeEmpresas1: TMenuItem;
    ListadeUnidades1: TMenuItem;
    ListadeFormadePgtos1: TMenuItem;
    procedure Timer1Timer(Sender: TObject);
    procedure btnFecharClick(Sender: TObject);
    procedure Sair1Click(Sender: TObject);
    procedure btnUsuarioClick(Sender: TObject);
    procedure btnEmpresaClick(Sender: TObject);
    procedure mmUsuarioClick(Sender: TObject);
    procedure mmPessoaClick(Sender: TObject);
    procedure btnClientesClick(Sender: TObject);
    procedure mmTipoPessoaClick(Sender: TObject);
    procedure btnFornecedoresClick(Sender: TObject);
    procedure Fornecedores1Click(Sender: TObject);
    procedure btnProdutosClick(Sender: TObject);
    procedure Produtos1Click(Sender: TObject);
    procedure btnFormaPgtoClick(Sender: TObject);
    procedure FormasdePgto1Click(Sender: TObject);
    procedure FormKeyPress(Sender: TObject; var Key: Char);
    procedure Unidade1Click(Sender: TObject);
    procedure btnUnidadesClick(Sender: TObject);
    procedure btnComprasClick(Sender: TObject);
    procedure Compras1Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  PrincipalF: TPrincipalF;

implementation

{$R *.dfm}

uses U_Usuario, U_Empresa, U_Cliente, U_Fornecedor, U_Produto, U_FormaPgto,
  U_Unidade, U_Compra;

procedure TPrincipalF.btnClientesClick(Sender: TObject);
begin
  ClienteF := TClienteF.Create(Self);
  ClienteF.ShowModal;

  try
    //
  finally
    ClienteF.Free;
    ClienteF := Nil;
  end;
end;

procedure TPrincipalF.btnComprasClick(Sender: TObject);
begin
  CompraF := TCompraF.Create(Self);
  CompraF.ShowModal;

  try
    //
  finally
    CompraF.Free;
    EmpresaF := Nil;
  end;
end;

procedure TPrincipalF.btnEmpresaClick(Sender: TObject);
begin
  EmpresaF := TEmpresaF.Create(Self);
  EmpresaF.ShowModal;

  try
    //
  finally
    EmpresaF.Free;
    EmpresaF := Nil;
  end;
end;

procedure TPrincipalF.btnFecharClick(Sender: TObject);
begin
 if (MessageDlg('Deseja sair do Sistema?', mtConfirmation, [mbOk, mbNo], 0) = mrOk) then
  begin
    Application.Terminate;
  end
  else
  begin
    Abort;
  end;
end;

procedure TPrincipalF.btnFormaPgtoClick(Sender: TObject);
begin
  FormaPgtoF := TFormaPgtoF.Create(Self);
  FormaPgtoF.ShowModal;

  try
    //
  finally
    FormaPgtoF.Free;
    FormaPgtoF := Nil;
  end;
end;

procedure TPrincipalF.btnFornecedoresClick(Sender: TObject);
begin
  FornecedorF := TFornecedorF.Create(Self);
  FornecedorF.ShowModal;

  try
    //
  finally
    FornecedorF.Free;
    FornecedorF := Nil;
  end;
end;

procedure TPrincipalF.btnProdutosClick(Sender: TObject);
begin
  ProdutoF := TProdutoF.Create(Self);
  ProdutoF.ShowModal;

  try
    //
  finally
    ProdutoF.Free;
    ProdutoF := Nil;
  end;
end;

procedure TPrincipalF.btnUsuarioClick(Sender: TObject);
begin
  UsuarioF := TUsuarioF.Create(Self);
  UsuarioF.ShowModal;

  try
    //
  finally
    UsuarioF.Free;
    UsuarioF := Nil;
  end;
end;

procedure TPrincipalF.mmTipoPessoaClick(Sender: TObject);
begin
  btnClientes.Click;
end;

procedure TPrincipalF.Compras1Click(Sender: TObject);
begin
  btnCompras.Click;
end;

procedure TPrincipalF.mmPessoaClick(Sender: TObject);
begin
  btnEmpresa.Click;
end;

procedure TPrincipalF.FormasdePgto1Click(Sender: TObject);
begin
  btnFormaPgto.Click;
end;

procedure TPrincipalF.FormKeyPress(Sender: TObject; var Key: Char);
begin
  // A TECLA ESC SAI DA TELA
  if (Key = #27) then
  begin
    btnFechar.Click;
  end;
end;

procedure TPrincipalF.Fornecedores1Click(Sender: TObject);
begin
  btnFornecedores.Click;
end;

procedure TPrincipalF.Produtos1Click(Sender: TObject);
begin
  btnProdutos.Click;
end;

procedure TPrincipalF.Sair1Click(Sender: TObject);
begin
  Close;
end;

procedure TPrincipalF.btnUnidadesClick(Sender: TObject);
begin
  UnidadeF := TUnidadeF.Create(Self);
  UnidadeF.ShowModal;

  try
    //
  finally
    UnidadeF.Free;
    UnidadeF := Nil;
  end;
end;

procedure TPrincipalF.Timer1Timer(Sender: TObject);
begin
  // INSERE DADOS NO STATUSBAR
  StatusBar1.Panels[0].Text := DateToStr(now);
  StatusBar1.Panels[1].Text := TimeToStr(now);
  StatusBar1.Panels[2].Text := 'SEJA BEM-VINDO AO SISTEMA';
end;

procedure TPrincipalF.Unidade1Click(Sender: TObject);
begin
  btnUnidades.Click;
end;

procedure TPrincipalF.mmUsuarioClick(Sender: TObject);
begin
  btnUsuario.Click;
end;

end.
